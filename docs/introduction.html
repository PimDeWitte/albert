<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction & System Overview - Albert Framework</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1, h2, h3 {
            color: #1976d2;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .section-card {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            margin: 15px 0;
        }
        
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .comment { color: #6a9955; }
        .number { color: #b5cea8; }
        
        .args-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .args-table th, .args-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .args-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #1976d2;
        }
        
        .args-table code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        #system-diagram {
            width: 100%;
            height: 600px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            border-left: 4px solid #1976d2;
        }
        
        .feature-card h3 {
            margin-top: 0;
            color: #1976d2;
        }
        
        .quickstart-steps {
            counter-reset: step-counter;
            margin-top: 20px;
        }
        
        .step {
            padding: 20px;
            margin-bottom: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            position: relative;
            padding-left: 60px;
            counter-increment: step-counter;
        }
        
        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: #1976d2;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ff9800;
            border-radius: 4px;
            margin: 20px 0;
        }
        
        .capabilities-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .capabilities-box ul {
            list-style: none;
            padding: 0;
        }
        
        .capabilities-box li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .capabilities-box li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Albert Framework</h1>
    <p class="subtitle">A Differential PyTorch Physics Engine for Testing Gravitational Theories</p>
    
    <div class="hero-section">
        <h2 style="color: white; margin-top: 0;">What is Albert?</h2>
        <p>Albert is a differential physics research engine built on PyTorch that enables researchers to test and validate physical theories against experimental data. It simulates particle trajectories in curved spacetime with high precision and provides comprehensive validation against experimental tests including gravitational waves, solar system dynamics, and precision measurements.</p>
        
        <div class="capabilities-box" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);">
            <h3 style="color: white;">Core Capabilities</h3>
            <ul style="color: white;">
                <li>Geodesic integration in arbitrary curved spacetimes</li>
                <li>Multiple gravitational theories including GR variants and alternative formulations</li>
                <li>Multi-particle simulations (electron, muon, photon, neutrino)</li>
                <li>Automatic caching with up to 29,000× speedup</li>
                <li>Comprehensive validation suite with analytical and numerical tests</li>
                <li>WebGPU-accelerated 3D visualization</li>
            </ul>
        </div>
    </div>

    <div class="section-card">
        <h2>Quick Start</h2>
        
        <div class="quickstart-steps">
            <div class="step">
                <h3>Clone the Repository</h3>
                <div class="code-block">
<span class="comment"># Clone Albert</span>
git clone https://github.com/your-org/albert.git
cd albert

<span class="comment"># Install dependencies</span>
pip install -r requirements.txt</div>
            </div>
            
            <div class="step">
                <h3>Run a Simple Test</h3>
                <div class="code-block">
<span class="comment"># Test Schwarzschild metric with default parameters</span>
python -m physics_agent.theory_engine_core --theories schwarzschild

<span class="comment"># Test multiple theories</span>
python -m physics_agent.theory_engine_core --theories schwarzschild kerr modified_gravity</div>
            </div>
            
            <div class="step">
                <h3>Run Comprehensive Validation</h3>
                <div class="code-block">
<span class="comment"># Full validation suite with all theories</span>
python -m physics_agent.evaluation

<span class="comment"># Test specific category</span>
python -m physics_agent.evaluation --category quantum</div>
            </div>
        </div>
    </div>

    <div class="section-card">
        <h2>Command Line Arguments</h2>
        
        <h3>theory_engine_core.py Arguments</h3>
        <table class="args-table">
            <thead>
                <tr>
                    <th>Argument</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>--theories</code></td>
                    <td>str (multiple)</td>
                    <td>all</td>
                    <td>Space-separated list of theories to test (e.g., schwarzschild kerr)</td>
                </tr>
                <tr>
                    <td><code>--r0</code></td>
                    <td>float</td>
                    <td>100</td>
                    <td>Initial radius in Schwarzschild radii (r/r_s)</td>
                </tr>
                <tr>
                    <td><code>--n_steps</code></td>
                    <td>int</td>
                    <td>1000</td>
                    <td>Number of integration steps</td>
                </tr>
                <tr>
                    <td><code>--dtau</code></td>
                    <td>float</td>
                    <td>0.01</td>
                    <td>Proper time step size</td>
                </tr>
                <tr>
                    <td><code>--device</code></td>
                    <td>str</td>
                    <td>cuda/cpu</td>
                    <td>Computation device (auto-detects CUDA)</td>
                </tr>
                <tr>
                    <td><code>--dtype</code></td>
                    <td>str</td>
                    <td>float64</td>
                    <td>Numerical precision (float32/float64)</td>
                </tr>
                <tr>
                    <td><code>--no-cache</code></td>
                    <td>flag</td>
                    <td>False</td>
                    <td>Disable trajectory caching</td>
                </tr>
                <tr>
                    <td><code>--particles</code></td>
                    <td>str (multiple)</td>
                    <td>electron</td>
                    <td>Particles to simulate (see section below)</td>
                </tr>
                <tr>
                    <td><code>--black-hole-preset</code></td>
                    <td>str</td>
                    <td>primordial_mini</td>
                    <td>Black hole configuration (see section below)</td>
                </tr>
                <tr>
                    <td><code>--validators-only</code></td>
                    <td>flag</td>
                    <td>False</td>
                    <td>Run only analytical validators</td>
                </tr>
            </tbody>
        </table>

        <h3>evaluation.py Arguments</h3>
        <table class="args-table">
            <thead>
                <tr>
                    <th>Argument</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>--theories</code></td>
                    <td>str (multiple)</td>
                    <td>all</td>
                    <td>Theories to evaluate</td>
                </tr>
                <tr>
                    <td><code>--category</code></td>
                    <td>str</td>
                    <td>all</td>
                    <td>Theory category: baseline, classical, quantum, emergent</td>
                </tr>
                <tr>
                    <td><code>--validators</code></td>
                    <td>str (multiple)</td>
                    <td>all</td>
                    <td>Specific validators to run</td>
                </tr>
                <tr>
                    <td><code>--output-dir</code></td>
                    <td>str</td>
                    <td>runs/</td>
                    <td>Output directory for results</td>
                </tr>
                <tr>
                    <td><code>--parallel</code></td>
                    <td>int</td>
                    <td>auto</td>
                    <td>Number of parallel workers</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section-card">
        <h2>Black Hole Configurations</h2>
        <p>Albert provides several pre-configured black hole presets for different research scenarios. The default is <code>primordial_mini</code> for optimal numerical stability.</p>
        
        <table class="args-table">
            <thead>
                <tr>
                    <th>Preset</th>
                    <th>Mass</th>
                    <th>Schwarzschild Radius</th>
                    <th>Use Case</th>
                    <th>Command</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>primordial_mini</code> <span style="color: #4caf50; font-weight: bold;">(default)</span></td>
                    <td>10^15 kg<br/><small>(~5×10^-16 M☉)</small></td>
                    <td>1.5 pm<br/><small>(subatomic scale)</small></td>
                    <td>Quantum gravity research, numerically stable</td>
                    <td><code>--black-hole-preset primordial_mini</code></td>
                </tr>
                <tr>
                    <td><code>stellar_mass</code></td>
                    <td>10 M☉</td>
                    <td>29.5 km</td>
                    <td>Standard astrophysical simulations</td>
                    <td><code>--black-hole-preset stellar_mass</code></td>
                </tr>
                <tr>
                    <td><code>laboratory_micro</code></td>
                    <td>10^8 kg<br/><small>(~5×10^-23 M☉)</small></td>
                    <td>1.5×10^-19 m</td>
                    <td>Extreme quantum gravity regime</td>
                    <td><code>--black-hole-preset laboratory_micro</code></td>
                </tr>
                <tr>
                    <td><code>intermediate_mass</code></td>
                    <td>1000 M☉</td>
                    <td>2953 km</td>
                    <td>Globular cluster dynamics</td>
                    <td><code>--black-hole-preset intermediate_mass</code></td>
                </tr>
                <tr>
                    <td><code>sagittarius_a_star</code></td>
                    <td>4.15×10^6 M☉</td>
                    <td>1.2×10^10 m</td>
                    <td>Galactic center physics</td>
                    <td><code>--black-hole-preset sagittarius_a_star</code></td>
                </tr>
            </tbody>
        </table>
        
        <div class="highlight">
            <strong>Why primordial_mini is default:</strong>
            <ul style="margin-top: 10px; margin-bottom: 0;">
                <li>Allows larger timesteps (0.1 vs 0.01) for faster computation</li>
                <li>Extreme curvature regime tests numerical stability</li>
                <li>Orbital periods in femtoseconds enable quick testing</li>
                <li>Ideal for testing solver accuracy in strong fields</li>
            </ul>
        </div>
        
        <h3>Custom Black Holes</h3>
        <div class="code-block">
<span class="comment"># Create custom black hole in code</span>
<span class="keyword">from</span> physics_agent.black_hole_loader <span class="keyword">import</span> BlackHoleLoader

loader = BlackHoleLoader()
<span class="comment"># Moon-mass black hole example</span>
moon_bh = loader.create_custom(
    mass_kg=<span class="number">7.342e22</span>,  <span class="comment"># Moon's mass</span>
    name=<span class="string">"Moon Mass Black Hole"</span>
)
<span class="keyword">print</span>(f<span class="string">"Schwarzschild radius: {moon_bh.schwarzschild_radius_m:.2e} m"</span>)</div>
    </div>

    <div class="section-card">
        <h2>Particle Types</h2>
        <p>Albert simulates four fundamental particles with different properties and orbital behaviors:</p>
        
        <table class="args-table">
            <thead>
                <tr>
                    <th>Particle</th>
                    <th>Type</th>
                    <th>Mass</th>
                    <th>Charge</th>
                    <th>Spin</th>
                    <th>Orbital Type</th>
                    <th>Command</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>electron</code> <span style="color: #4caf50; font-weight: bold;">(default)</span></td>
                    <td>Massive</td>
                    <td>9.109×10^-31 kg</td>
                    <td>-1.602×10^-19 C</td>
                    <td>1/2</td>
                    <td>Elliptical precessing</td>
                    <td><code>--particles electron</code></td>
                </tr>
                <tr>
                    <td><code>photon</code></td>
                    <td>Massless</td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>Gravitational lensing</td>
                    <td><code>--particles photon</code></td>
                </tr>
                <tr>
                    <td><code>neutrino</code></td>
                    <td>Nearly massless</td>
                    <td>< 0.12 eV/c²</td>
                    <td>0</td>
                    <td>1/2</td>
                    <td>Near-null geodesic</td>
                    <td><code>--particles neutrino</code></td>
                </tr>
                <tr>
                    <td><code>proton</code></td>
                    <td>Massive</td>
                    <td>1.673×10^-27 kg</td>
                    <td>+1.602×10^-19 C</td>
                    <td>1/2</td>
                    <td>Stable circular</td>
                    <td><code>--particles proton</code></td>
                </tr>
            </tbody>
        </table>
        
        <h3>Orbital Parameters</h3>
        <p>Each particle has specific orbital parameters that control its trajectory behavior:</p>
        <ul>
            <li><strong>angular_velocity_factor:</strong> Controls tangential motion (< 1.0 for more radial, > 1.0 for more tangential)</li>
            <li><strong>radial_velocity_factor:</strong> Controls radial motion (negative = inward, positive = outward)</li>
            <li><strong>orbit_type:</strong> Descriptive name for the trajectory type</li>
        </ul>
        
        <h3>Multi-Particle Simulations</h3>
        <div class="code-block">
<span class="comment"># Simulate multiple particles at once</span>
python -m physics_agent.theory_engine_core \
    --theories schwarzschild \
    --particles electron photon neutrino proton \
    --black-hole-preset stellar_mass

<span class="comment"># In Python code</span>
<span class="keyword">from</span> physics_agent.theory_engine_core <span class="keyword">import</span> TheoryEngine
<span class="keyword">from</span> physics_agent.theories.schwarzschild.theory <span class="keyword">import</span> Schwarzschild

<span class="comment"># Initialize engine and theory</span>
engine = TheoryEngine(black_hole_preset=<span class="string">'stellar_mass'</span>)
theory = Schwarzschild()

<span class="comment"># Run multi-particle trajectories</span>
results = engine.run_multi_particle_trajectories(
    model=theory,
    r0_si=<span class="number">295338.39</span>,  <span class="comment"># Initial radius in meters</span>
    N_STEPS=<span class="number">10000</span>,     <span class="comment"># Number of integration steps</span>
    DTau_si=<span class="number">0.01</span>,      <span class="comment"># Proper time step</span>
    theory_category=<span class="string">'classical'</span>
)

<span class="comment"># Access results for each particle</span>
<span class="keyword">for</span> particle_name, result <span class="keyword">in</span> results.items():
    hist = result[<span class="string">'trajectory'</span>]
    metrics = result[<span class="string">'metrics'</span>]
    <span class="keyword">print</span>(f<span class="string">"{particle_name}: {hist.shape}"</span>)</div>
        
        <div class="highlight">
            <strong>Note:</strong> The muon particle is used in g-2 anomaly validation tests but is not available for trajectory simulations. The four particles above represent different regimes: charged massive (electron/proton), massless (photon), and nearly massless (neutrino).
        </div>
    </div>

    <div class="section-card">
        <h2>System Architecture</h2>
        <canvas id="system-diagram"></canvas>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h3>Theory Engine Core</h3>
                <p>Central orchestrator that manages theory evaluation, trajectory computation, and validation workflows. Handles multi-particle simulations and quantum corrections.</p>
            </div>
            
            <div class="feature-card">
                <h3>Geodesic Integration</h3>
                <p>High-precision numerical solvers including 8th-order Dormand-Prince, symplectic integrators, and implicit methods for extreme curvature regions.</p>
            </div>
            
            <div class="feature-card">
                <h3>Validation Framework</h3>
                <p>Comprehensive testing against analytical solutions, numerical convergence, and experimental data from LIGO, solar system observations, atomic clocks, and astrophysical measurements.</p>
            </div>
            
            <div class="feature-card">
                <h3>Caching System</h3>
                <p>Intelligent trajectory caching using PyTorch tensors, providing massive speedups for parameter sweeps and repeated computations.</p>
            </div>
            
            <div class="feature-card">
                <h3>Visualization</h3>
                <p>WebGPU-accelerated 3D trajectory viewers, performance dashboards, and interactive analysis tools for exploring results.</p>
            </div>
            
            <div class="feature-card">
                <h3>Theory Discovery</h3>
                <p>Automated system for generating and testing novel gravitational theories using genetic algorithms and machine learning.</p>
            </div>
        </div>
    </div>

    <div class="section-card">
        <h2>Example Usage</h2>
        
        <h3>Basic Theory Test</h3>
        <div class="code-block">
<span class="keyword">from</span> physics_agent.theory_engine_core <span class="keyword">import</span> TheoryEngine
<span class="keyword">from</span> physics_agent.theories.defaults.baselines.schwarzschild <span class="keyword">import</span> Schwarzschild

<span class="comment"># Initialize engine</span>
engine = TheoryEngine(device=<span class="string">'cuda'</span>, dtype=torch.float64)

<span class="comment"># Create theory instance</span>
theory = Schwarzschild()

<span class="comment"># Run trajectory simulation</span>
hist, tag, kicks = engine.run_trajectory(
    model=theory,
    r0_si=<span class="number">295338.39</span>,  <span class="comment"># 100 Schwarzschild radii</span>
    N_STEPS=<span class="number">10000</span>,
    DTau_si=<span class="number">0.01</span>
)

<span class="keyword">print</span>(f<span class="string">"Trajectory shape: {hist.shape}"</span>)
<span class="keyword">print</span>(f<span class="string">"Tag: {tag}"</span>)  <span class="comment"># 'cached_trajectory' if loaded from cache</span></div>

        <h3>Multi-Particle Simulation</h3>
        <div class="code-block">
<span class="comment"># Simulate multiple particles</span>
results = engine.run_multi_particle_trajectories(
    model=theory,
    r0_si=<span class="number">295338.39</span>,
    N_STEPS=<span class="number">10000</span>,
    DTau_si=<span class="number">0.01</span>,
    particles=[<span class="string">'electron'</span>, <span class="string">'photon'</span>, <span class="string">'neutrino'</span>]
)

<span class="keyword">for</span> particle, data <span class="keyword">in</span> results.items():
    <span class="keyword">print</span>(f<span class="string">"{particle}: {data['trajectory'].shape}"</span>)</div>

        <div class="highlight">
            <strong>Pro Tip:</strong> The caching system automatically saves computed trajectories. The first run may take minutes, but subsequent runs with the same parameters load in milliseconds!
        </div>
    </div>

    <script>
        // System architecture diagram
        const canvas = document.getElementById('system-diagram');
        const ctx = canvas.getContext('2d');
        canvas.width = canvas.offsetWidth;
        canvas.height = 600;

        // Define system components
        const components = [
            // Input layer
            {name: 'Theory Definitions', x: 100, y: 100, width: 180, height: 60, color: '#4caf50', layer: 'input'},
            {name: 'Experimental Data', x: 100, y: 200, width: 180, height: 60, color: '#4caf50', layer: 'input'},
            {name: 'Initial Conditions', x: 100, y: 300, width: 180, height: 60, color: '#4caf50', layer: 'input'},
            
            // Core engine
            {name: 'Theory Engine', x: 400, y: 200, width: 200, height: 80, color: '#1976d2', layer: 'core'},
            
            // Processing
            {name: 'Geodesic Integrator', x: 700, y: 100, width: 180, height: 60, color: '#ff9800', layer: 'process'},
            {name: 'Validator Suite', x: 700, y: 200, width: 180, height: 60, color: '#ff9800', layer: 'process'},
            {name: 'Cache System', x: 700, y: 300, width: 180, height: 60, color: '#ff9800', layer: 'process'},
            
            // Output
            {name: 'Results & Scores', x: 1000, y: 150, width: 160, height: 60, color: '#9c27b0', layer: 'output'},
            {name: 'Visualizations', x: 1000, y: 250, width: 160, height: 60, color: '#9c27b0', layer: 'output'}
        ];

        // Connection definitions
        const connections = [
            {from: 0, to: 3}, {from: 1, to: 3}, {from: 2, to: 3},
            {from: 3, to: 4}, {from: 3, to: 5}, {from: 3, to: 6},
            {from: 4, to: 7}, {from: 5, to: 7}, {from: 6, to: 7},
            {from: 4, to: 8}, {from: 5, to: 8}, {from: 7, to: 8},
            {from: 6, to: 4} // Cache feedback to integrator
        ];

        // Particle animation
        const particles = [];
        let animationTime = 0;

        class DataParticle {
            constructor(path) {
                this.path = path;
                this.progress = 0;
                this.speed = 0.01 + Math.random() * 0.005;
                this.color = `hsl(${200 + Math.random() * 60}, 70%, 50%)`;
            }
            
            update() {
                this.progress += this.speed;
                if (this.progress > 1) {
                    this.progress = 0;
                }
            }
            
            draw() {
                const from = components[this.path.from];
                const to = components[this.path.to];
                
                const x = from.x + from.width/2 + (to.x + to.width/2 - from.x - from.width/2) * this.progress;
                const y = from.y + from.height/2 + (to.y + to.height/2 - from.y - from.height/2) * this.progress;
                
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // Initialize particles
        connections.forEach((conn, index) => {
            setTimeout(() => {
                particles.push(new DataParticle(conn));
            }, index * 200);
        });

        function drawSystemDiagram() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw layer backgrounds
            const layers = [
                {x: 50, width: 280, color: '#e8f5e9', label: 'Input'},
                {x: 350, width: 300, color: '#e3f2fd', label: 'Core Engine'},
                {x: 650, width: 280, color: '#fff3e0', label: 'Processing'},
                {x: 950, width: 260, color: '#f3e5f5', label: 'Output'}
            ];
            
            layers.forEach(layer => {
                ctx.fillStyle = layer.color;
                ctx.fillRect(layer.x, 50, layer.width, 320);
                
                ctx.fillStyle = '#666';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(layer.label, layer.x + layer.width/2, 40);
            });
            
            // Draw connections
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 2;
            connections.forEach(conn => {
                const from = components[conn.from];
                const to = components[conn.to];
                ctx.beginPath();
                ctx.moveTo(from.x + from.width, from.y + from.height/2);
                ctx.lineTo(to.x, to.y + to.height/2);
                ctx.stroke();
            });
            
            // Draw components
            components.forEach(comp => {
                // Shadow
                ctx.fillStyle = 'rgba(0,0,0,0.1)';
                ctx.fillRect(comp.x + 3, comp.y + 3, comp.width, comp.height);
                
                // Component box
                ctx.fillStyle = comp.color;
                ctx.fillRect(comp.x, comp.y, comp.width, comp.height);
                
                // Text
                ctx.fillStyle = 'white';
                ctx.font = 'bold 13px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(comp.name, comp.x + comp.width/2, comp.y + comp.height/2);
            });
            
            // Update and draw particles
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });
            
            // Draw title
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Albert System Architecture - Data Flow', canvas.width/2, 20);
            
            animationTime++;
            requestAnimationFrame(drawSystemDiagram);
        }

        drawSystemDiagram();
    </script>
</body>
</html>