<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solvers & Validators - Albert Framework</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1, h2, h3 {
            color: #1976d2;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
        }
        
        .stats-overview {
            background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .stat-box {
            text-align: center;
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            opacity: 0.9;
        }
        
        .section-card {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .data-table th, .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .data-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #1976d2;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .data-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .pass {
            color: #4caf50;
            font-weight: bold;
        }
        
        .fail {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .partial {
            color: #ff9800;
            font-weight: bold;
        }
        
        .test-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            margin-right: 5px;
        }
        
        .analytical {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .numerical {
            background-color: #e3f2fd;
            color: #1565c0;
        }
        
        .quantum {
            background-color: #f3e5f5;
            color: #6a1b9a;
        }
        
        .experimental {
            background-color: #fff3e0;
            color: #e65100;
        }
        
        .solver {
            background-color: #fce4ec;
            color: #c2185b;
        }
        
        .prediction {
            background-color: #e8eaf6;
            color: #3f51b5;
        }
        
        .constraint {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .observational {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .separator-row td {
            padding: 10px !important;
            font-size: 0.95em;
            letter-spacing: 0.5px;
        }
        
        .equation {
            background-color: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #1976d2;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        
        .visualization-container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            text-align: center;
        }
        
        #validator-performance, #solver-comparison {
            width: 100%;
            height: 400px;
        }
        
        .method-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #ff9800;
        }
        
        .method-card h4 {
            margin-top: 0;
            color: #ff6f00;
        }
        
        .performance-metric {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .metric-label {
            color: #666;
        }
        
        .metric-value {
            font-weight: bold;
            color: #333;
        }
        
        .best-value {
            color: #4caf50;
        }
        
        .code-link {
            background-color: #f0f0f0;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: inline-block;
            color: #1976d2;
            text-decoration: none;
        }
        
        .code-link:hover {
            background-color: #e0e0e0;
            text-decoration: underline;
        }
        
        .test-score {
            color: #2e7d32;
            font-weight: 600;
            font-size: 12px;
            display: block;
            margin-top: 4px;
        }
        
        .test-link {
            color: #1976d2;
            font-size: 11px;
            text-decoration: none;
        }
        
        .test-link:hover {
            text-decoration: underline;
        }
        
        .note {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 16px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }
        
        .updating {
            animation: pulse 2s infinite;
        }
        
        /* Mobile responsive styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                font-size: 14px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
            
            h3 {
                font-size: 1.2em;
            }
            
            .subtitle {
                font-size: 1em;
            }
            
            .stats-overview {
                padding: 25px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 20px;
            }
            
            .stat-number {
                font-size: 2em;
            }
            
            .stat-label {
                font-size: 0.9em;
            }
            
            .section-card {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .data-table {
                font-size: 12px;
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .data-table th, .data-table td {
                padding: 8px;
                min-width: 100px;
            }
            
            .data-table tbody {
                display: table;
                width: 100%;
            }
            
            .test-badge {
                font-size: 0.75em;
                padding: 3px 8px;
                margin-right: 3px;
                margin-bottom: 3px;
                display: inline-block;
            }
            
            .equation {
                padding: 10px;
                font-size: 12px;
            }
            
            .visualization-container {
                padding: 20px;
            }
            
            #validator-performance, #solver-comparison {
                height: 300px;
            }
            
            .method-card {
                padding: 15px;
                margin-bottom: 10px;
            }
            
            .performance-metric {
                font-size: 13px;
                padding: 6px 0;
            }
            
            .code-link {
                font-size: 11px;
                padding: 3px 6px;
            }
            
            .note {
                padding: 12px;
                margin: 15px 0;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 8px;
                font-size: 13px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            h2 {
                font-size: 1.2em;
            }
            
            .stats-overview {
                padding: 20px;
            }
            
            .stat-number {
                font-size: 1.5em;
            }
            
            .section-card, .visualization-container {
                padding: 15px;
            }
            
            .data-table {
                font-size: 11px;
            }
            
            .data-table th, .data-table td {
                padding: 6px;
                min-width: 80px;
            }
            
            #validator-performance, #solver-comparison {
                height: 250px;
            }
            
            .method-card h4 {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <h1>Solvers & Validators</h1>
    <p class="subtitle">Comprehensive Testing and Integration Methods</p>
    
    <div class="stats-overview">
        <h2 style="color: white; margin-top: 0;">Current Test Results</h2>
        <p>From comprehensive test run: 2025-08-03 22:53:02</p>
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-number">32</span>
                <span class="stat-label">Theories Tested</span>
            </div>
            <div class="stat-box">
                <span class="stat-number">192/224</span>
                <span class="stat-label">Analytical Tests Passed</span>
            </div>
            <div class="stat-box">
                <span class="stat-number">177/223</span>
                <span class="stat-label">Solver Tests Passed</span>
            </div>
            <div class="stat-box">
                <span class="stat-number">85.7%</span>
                <span class="stat-label">Average Pass Rate</span>
            </div>
        </div>
    </div>

    <div class="section-card" style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%); border: 2px solid #1976d2;">
        <h2>Framework Philosophy</h2>
        <p style="font-size: 1.1em; line-height: 1.8;">
            AlphaFold succeeded by creating specialized environments for training on protein structures. 
            Albert provides analogous infrastructure for physics—leveraging PyTorch as the computational foundation. 
            Express your theory as code—metric tensors and field equations—and Albert's solvers transform these 
            mathematical laws into differentiable computations. This extends PyTorch into a platform for physics 
            simulation, where Lagrangians can be implemented as differentiable operations yielding executable dynamics.
        </p>
        <p style="font-size: 1.1em; line-height: 1.8;">
            The differentiable nature enables theories to learn from their own simulations through gradient-based 
            optimization. By providing this integrated infrastructure, Albert reduces the barrier to developing 
            physics learning systems, allowing researchers to focus on innovation rather than building validation 
            pipelines from scratch.
        </p>
    </div>

    <h1 style="margin-top: 40px; margin-bottom: 10px; color: #ff5722;">Solver-Based Testing</h1>
    <p class="subtitle">Geodesic Integration Methods and Test Coverage</p>

    <div class="section-card">
        <h2>Geodesic Solver Test Coverage</h2>
        <p>The geodesic integrators undergo extensive testing through two primary test suites:</p>
        
        <h3>1. Validator Comparison Tests (test_geodesic_validator_comparison.py)</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Test Name</th>
                    <th>Description</th>
                    <th>Solvers Tested</th>
                    <th>Status</th>
                    <th>Key Metrics</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Circular Orbit Period</strong></td>
                    <td>Tests circular orbit period calculation at 100 Rs</td>
                    <td>ConservedQuantityGeodesicSolver</td>
                    <td class="pass">IMPLEMENTED</td>
                    <td>Error tolerance: 5%</td>
                </tr>
                <tr>
                    <td><strong>Mercury Precession</strong></td>
                    <td>Compares with analytical GR formula</td>
                    <td>ConservedQuantityGeodesicSolver</td>
                    <td class="pass">VALIDATED</td>
                    <td>43.98 arcsec/century (0.02% error)</td>
                </tr>
                <tr>
                    <td><strong>Light Deflection</strong></td>
                    <td>Solar gravitational lensing calculation</td>
                    <td>PhotonGeodesicSolver (theoretical)</td>
                    <td class="pass">VALIDATED</td>
                    <td>1.75 arcsec (0.03% error)</td>
                </tr>
                <tr>
                    <td><strong>Photon Sphere</strong></td>
                    <td>Black hole shadow radius verification</td>
                    <td>PhotonGeodesicSolver</td>
                    <td class="pass">VALIDATED</td>
                    <td>r = 1.5 rs (3M)</td>
                </tr>
                <tr>
                    <td><strong>PPN Parameters</strong></td>
                    <td>Post-Newtonian expansion coefficients</td>
                    <td>GeneralRelativisticGeodesicSolver</td>
                    <td class="pass">VALIDATED</td>
                    <td>γ = 1.0, β = 1.0</td>
                </tr>
                <tr>
                    <td><strong>COW Interferometry</strong></td>
                    <td>Quantum neutron phase shift in gravity</td>
                    <td>QuantumCorrectedGeodesicSolver</td>
                    <td class="pass">VALIDATED</td>
                    <td>Phase error: 0.12%</td>
                </tr>
                <tr>
                    <td><strong>GW Inspiral</strong></td>
                    <td>Binary system orbital decay</td>
                    <td>GeneralRelativisticGeodesicSolver</td>
                    <td class="pass">IMPLEMENTED</td>
                    <td>Waveform match with GR</td>
                </tr>
                <tr>
                    <td><strong>Trajectory Cache</strong></td>
                    <td>Performance optimization testing</td>
                    <td>All solvers</td>
                    <td class="pass">VALIDATED</td>
                    <td>1000x+ speedup on cached runs</td>
                </tr>
                <tr>
                    <td><strong>Quantum Geodesic Sim</strong></td>
                    <td>PennyLane quantum circuit validation</td>
                    <td>QuantumCorrectedGeodesicSolver</td>
                    <td class="partial">EXPERIMENTAL</td>
                    <td>2-qubit simulation</td>
                </tr>
            </tbody>
        </table>
        
        <h3>2. Theory Evaluation Tests (evaluation.py)</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Test Function</th>
                    <th>Description</th>
                    <th>Solver Used</th>
                    <th>Integration Steps</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>test_circular_orbit_for_theory</strong></td>
                    <td>ISCO radius and orbital frequency</td>
                    <td>ConservedQuantityGeodesicSolver</td>
                    <td>10,000 steps</td>
                </tr>
                <tr>
                    <td><strong>test_quantum_geodesic_for_theory</strong></td>
                    <td>Quantum corrections to geodesics</td>
                    <td>QuantumCorrectedGeodesicSolver</td>
                    <td>1,000 steps</td>
                </tr>
                <tr>
                    <td><strong>test_trajectory_vs_kerr</strong></td>
                    <td>Compare trajectories with Kerr baseline</td>
                    <td>GeneralRelativisticGeodesicSolver</td>
                    <td>100,000-1M steps</td>
                </tr>
                <tr>
                    <td><strong>test_g_minus_2</strong></td>
                    <td>Muon anomalous magnetic moment</td>
                    <td>ChargedParticleGeodesicSolver</td>
                    <td>Variable</td>
                </tr>
                <tr>
                    <td><strong>test_scattering_amplitude</strong></td>
                    <td>Graviton exchange amplitudes</td>
                    <td>GeneralRelativisticGeodesicSolver</td>
                    <td>Variable</td>
                </tr>
            </tbody>
        </table>
        
        <div class="note" style="margin-top: 20px;">
            <h4>📊 Performance Characteristics</h4>
            <ul>
                <li><strong>4D Solvers:</strong> ~10x faster than 6D for symmetric spacetimes</li>
                <li><strong>Cache Hit Rate:</strong> &gt;95% for repeated theory validations</li>
                <li><strong>Typical Integration:</strong> 100k-1M steps for precision tests</li>
                <li><strong>Step Size:</strong> h = 0.01-0.1 (geometric units), adaptive near horizons</li>
                <li><strong>Memory Usage:</strong> ~100MB for 1M step trajectory (float64)</li>
            </ul>
        </div>
    </div>

    <div class="section-card" style="background: linear-gradient(135deg, #fff3e0 0%, #ffebee 100%); border: 2px solid #ff5722;">
        <h2>⚠️ Geodesic Integrator Solvers - Detailed Analysis</h2>
        <p style="color: #d84315; font-weight: bold; font-size: 1.1em;">
            Critical: The geodesic integrator implementation in geodesic_integrator.py contains multiple specialized solvers 
            with varying dimensions and stability characteristics. Below is a comprehensive breakdown:
        </p>
        
        <table class="data-table" style="margin-top: 20px;">
            <thead>
                <tr>
                    <th>Solver Class</th>
                    <th>State Dimensions</th>
                    <th>State Variables</th>
                    <th>Infinity/Singularity Handling</th>
                    <th>Primary Use Case</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ConservedQuantityGeodesicSolver</strong></td>
                    <td><span class="test-badge numerical">4D</span></td>
                    <td><code>[t, r, φ, dr/dτ]</code></td>
                    <td>
                        • Horizon check: r ≤ 2.01 → NaN<br>
                        • Adaptive step: max 5 attempts<br>
                        • Halves step size on NaN<br>
                        • Metric singularity: |det| &lt; 1e-10<br>
                        • Safety radius: r &gt; 2.1
                    </td>
                    <td>Schwarzschild, symmetric spacetimes</td>
                </tr>
                <tr>
                    <td><strong>GeneralRelativisticGeodesicSolver</strong></td>
                    <td><span class="test-badge numerical">6D</span></td>
                    <td><code>[t, r, φ, u^t, u^r, u^φ]</code></td>
                    <td>
                        • Horizon check: r ≤ 2.01 → NaN<br>
                        • Metric determinant: |det(g)| &lt; ε<br>
                        • Christoffel cache: 1000 entries<br>
                        • Horizon crossing: stops at r ≤ 2.1
                    </td>
                    <td>Kerr, general metrics, no symmetry</td>
                </tr>
                <tr>
                    <td><strong>PhotonGeodesicSolver</strong></td>
                    <td><span class="test-badge quantum">4D</span></td>
                    <td><code>[t, r, φ, dr/dλ]</code></td>
                    <td>
                        • Horizon check: r ≤ 2.01 → NaN<br>
                        • Turning points: dr²/dλ² &lt; 0 → 0<br>
                        • Critical b = 3√3 M<br>
                        • Special handling near r ≈ 3M
                    </td>
                    <td>Light rays, gravitational lensing</td>
                </tr>
                <tr>
                    <td><strong>ChargedParticleGeodesicSolver</strong></td>
                    <td><span class="test-badge numerical">6D</span></td>
                    <td><code>[t, r, φ, u^t, u^r, u^φ]</code></td>
                    <td>
                        • Inherits GeneralRelativisticGeodesicSolver<br>
                        • Finite check: torch.isfinite()<br>
                        • Symbolic charge detection<br>
                        • Coulomb singularity: F ∝ 1/r²
                    </td>
                    <td>Charged particle dynamics</td>
                </tr>
                <tr>
                    <td><strong>UnifiedGravityModelGeodesicSolver</strong><br><span style="color: #ff6f00; font-size: 0.9em;">(EXPERIMENTAL)</span></td>
                    <td><span class="test-badge experimental">6D</span></td>
                    <td><code>[t, r, φ, u^t, u^r, u^φ]</code></td>
                    <td>
                        • Tetrad determinant: det(e) ≠ 0<br>
                        • Metric determinant validation<br>
                        • Quantum corrections: 1 + α_g/(πr²)<br>
                        • Raises ValueError on singular metric
                    </td>
                    <td>UGM theory testing, gauge fields</td>
                </tr>
                <tr>
                    <td><strong>ConservedQuantityChargedGeodesicSolver</strong></td>
                    <td><span class="test-badge numerical">4D</span></td>
                    <td><code>[t, r, φ, dr/dτ]</code></td>
                    <td>
                        • Inherits ConservedQuantityGeodesicSolver<br>
                        • Same horizon/adaptive handling<br>
                        • Electromagnetic singularity handling
                    </td>
                    <td>Charged particles in symmetric spacetimes</td>
                </tr>
                <tr>
                    <td><strong>QuantumCorrectedGeodesicSolver</strong><br><span style="color: #ff6f00; font-size: 0.9em;">(EXPERIMENTAL)</span></td>
                    <td><span class="test-badge quantum">6D</span></td>
                    <td><code>[t, r, φ, u^t, u^r, u^φ]</code></td>
                    <td>
                        • Inherits GeneralRelativisticGeodesicSolver<br>
                        • Parameter normalization: r/10, v×10<br>
                        • Quantum correction factor: 0.01<br>
                        • PennyLane circuit stability
                    </td>
                    <td>Quantum gravity approximations</td>
                </tr>
            </tbody>
        </table>
        
        <div class="note" style="background-color: #ffebee; border-left-color: #f44336; margin-top: 20px;">
            <h4>🔧 Key Technical Issues</h4>
            <ul>
                <li><strong>Dimension Mismatch:</strong> Some solvers claim to be 4D but actually handle 6D states internally</li>
                <li><strong>Horizon Safety:</strong> All solvers use r &gt; 2.01 (just outside Schwarzschild horizon) as safety threshold</li>
                <li><strong>Adaptive Stepping:</strong> Only 4D solvers implement aggressive retry logic (up to 5 attempts)</li>
                <li><strong>Cache Performance:</strong> Christoffel symbol caching provides ~10x speedup for repeated calculations</li>
                <li><strong>Numerical Precision:</strong> All use float64 (double precision) for stability</li>
            </ul>
        </div>
    </div>

    <div class="section-card">
        <h2>Numerical Integration Methods</h2>
        <p style="color: #d84315; font-weight: bold;">⚠️ Current Implementation: Standard RK4 (4th order Runge-Kutta)</p>
        
        <div class="method-card">
            <h4>RK4 Integration - Primary Method</h4>
            <div class="equation">
                k₁ = f(y_n), k₂ = f(y_n + h·k₁/2), k₃ = f(y_n + h·k₂/2), k₄ = f(y_n + h·k₃)<br>
                y_{n+1} = y_n + (h/6)·(k₁ + 2k₂ + 2k₃ + k₄)
            </div>
            <div class="performance-metric">
                <span class="metric-label">Order</span>
                <span class="metric-value">4th order accuracy</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Error Control</span>
                <span class="metric-value">Adaptive step size (4D solvers only)</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Stages</span>
                <span class="metric-value">4 function evaluations per step</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Implementation</span>
                <span class="metric-value"><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/geodesic_integrator.py#L286" class="code-link" target="_blank">rk4_step() in geodesic_integrator.py</a></span>
            </div>
        </div>

        <div class="method-card" style="border-left-color: #ff9800;">
            <h4>Adaptive Step Size Control</h4>
            <div class="equation">
                if NaN detected: h → h/2, retry up to 5 times
            </div>
            <div class="performance-metric">
                <span class="metric-label">Available In</span>
                <span class="metric-value">ConservedQuantityGeodesicSolver (4D) only</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Horizon Safety</span>
                <span class="metric-value">Stops integration if r < 2.1 (geometric units)</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Step Size Range</span>
                <span class="metric-value">h = 0.01-0.1 typical, adaptive near singularities</span>
            </div>
            <div class="performance-metric">
                <span class="metric-label">Implementation</span>
                <span class="metric-value"><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/geodesic_integrator.py#L286" class="code-link" target="_blank">ConservedQuantityGeodesicSolver.rk4_step()</a></span>
            </div>
        </div>

        <div class="note" style="background-color: #fff3e0; border-left-color: #ff6f00; margin-top: 20px;">
            <h4>📝 Implementation Note</h4>
            <p>The current geodesic integrators use standard RK4 methods, not the advanced solvers (Dormand-Prince, symplectic, implicit) mentioned in earlier documentation. While RK4 is sufficient for most tests, future enhancements could include:</p>
            <ul>
                <li>Higher-order adaptive methods (e.g., RK45, DOP853) for better accuracy</li>
                <li>Symplectic integrators for long-term energy conservation</li>
                <li>Implicit methods for stable horizon crossing</li>
                <li>GPU acceleration for massive parallel integrations</li>
            </ul>
        </div>
    </div>

    <h1 style="margin-top: 60px; margin-bottom: 10px; color: #1976d2;">Validator-Based Testing</h1>
    <p class="subtitle">Analytical and Observational Validation Methods</p>

    <div class="section-card">
        <h2>Validators Overview</h2>
        <div class="note" style="background-color: #e8f5e9; border-left-color: #4caf50; margin-bottom: 30px;">
            <h3 style="color: #2e7d32;">Currently Active Validators: 10 Core + 4 Extended</h3>
            <p style="color: #424242;">The Albert framework currently runs <strong>10 core validators</strong> in production:</p>
            <ul style="color: #424242;">
                <li><strong>Phase 1 (Constraint):</strong> Conservation, Metric Properties</li>
                <li><strong>Phase 2 (Analytical):</strong> Mercury Precession, Light Deflection, PPN Parameters, Photon Sphere, GW Waveform, COW Interferometry</li>
                <li><strong>Phase 3 (Solver-Based):</strong> Trajectory vs Kerr, Circular Orbit, Quantum Geodesic Sim, g-2 Anomaly</li>
                <li><strong>Phase 4 (Predictions):</strong> CMB Power Spectrum, Primordial GWs, Scattering Amplitude, PTA GW Background</li>
            </ul>
        </div>
        
        <h3>Analytical Validators</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Validator</th>
                    <th>Type</th>
                    <th>Tests</th>
                    <th>Pass Rate</th>
                    <th>Key Metrics</th>
                    <th>Code Reference</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Conservation Validator</strong></td>
                    <td>
                        <span class="test-badge constraint">Constraint</span>
                        <span class="test-badge analytical">Analytical</span>
                    </td>
                    <td>Energy, Angular momentum, Constraint conservation</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>Tolerances: 10^-12 (relative)</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/conservation_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Metric Properties</strong></td>
                    <td>
                        <span class="test-badge constraint">Constraint</span>
                        <span class="test-badge analytical">Analytical</span>
                    </td>
                    <td>Signature (-+++), Positive-definiteness, Asymptotic flatness</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>Lorentzian signature verified</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/metric_properties_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Mercury Precession</strong>
                        <span class="test-score">✅ PASSED (0.02% error)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_mercury_comparison() →</a>
                    </td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Perihelion advance of Mercury</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>43.98 arcsec/century</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/mercury_precession_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Light Deflection</strong>
                        <span class="test-score">✅ PASSED (0.03% error)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_light_deflection_comparison() →</a>
                    </td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Solar gravitational lensing</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>1.75 arcsec at solar limb</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/light_deflection_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Photon Sphere</strong>
                        <span class="test-score">✅ PASSED (r_ph = 1.5 r_s)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_photon_sphere_comparison() →</a>
                    </td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                    </td>
                    <td>Black hole shadow radius</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>r = 3M (Schwarzschild)</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/photon_sphere_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>PPN Parameters</strong>
                        <span class="test-score">✅ PASSED (γ=1.0, β=1.0)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_ppn_comparison() →</a>
                    </td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Post-Newtonian expansion</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>γ = β = 1 (GR limit)</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/ppn_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>COW Interferometry</strong>
                        <span class="test-score">✅ PASSED (0.12% error)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_quantum_interferometry() →</a>
                    </td>
                    <td>
                        <span class="test-badge quantum">Quantum</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Neutron phase shift in gravity</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>Δφ = 2π mgLλ/h</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/cow_interferometry_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Gravitational Waves</strong></td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Waveform generation</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>LIGO/Virgo strain data</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/gw_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>PSR J0740</strong></td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Shapiro time delay</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>Δt observations</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/psr_j0740_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr class="separator-row">
                    <td colspan="6" style="background: #f0f0f0; text-align: center; font-weight: bold;">Solver-Based Tests</td>
                </tr>
                <tr>
                    <td><strong>Quantum Geodesic Sim</strong> <span style="color: #ff6f00; font-size: 0.9em;">(EXPERIMENTAL)</span></td>
                    <td>
                        <span class="test-badge quantum">Quantum</span>
                        <span class="test-badge numerical">Numerical</span>
                    </td>
                    <td>Quantum circuit simulation of geodesics</td>
                    <td class="pass">96.9% (31/32)</td>
                    <td>2-qubit quantum simulation</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/quantum_geodesic_sim_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Circular Orbit</strong></td>
                    <td>
                        <span class="test-badge analytical">Analytical</span>
                        <span class="test-badge numerical">Numerical</span>
                    </td>
                    <td>ISCO radius, Orbital frequency</td>
                    <td class="pass">93.8% (30/32)</td>
                    <td>r_ISCO = 6M (Schwarzschild)</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/circular_orbit_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Trajectory vs Kerr</strong></td>
                    <td>
                        <span class="test-badge numerical">Numerical</span>
                        <span class="test-badge solver">Solver-Based</span>
                    </td>
                    <td>Geodesic comparison with Kerr metric</td>
                    <td class="pass">100.0% (32/32)</td>
                    <td>Distance & divergence metrics</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theory_engine_core.py#L2420" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>g-2 Anomaly</strong></td>
                    <td>
                        <span class="test-badge quantum">Quantum</span>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Muon magnetic moment</td>
                    <td class="fail">40.6% (13/32)</td>
                    <td>a_μ = 0.00116592089</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/g2_anomaly_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Scattering Amplitude</strong></td>
                    <td>
                        <span class="test-badge quantum">Quantum</span>
                        <span class="test-badge analytical">Analytical</span>
                    </td>
                    <td>Tree-level graviton exchange</td>
                    <td class="partial">68.8% (22/32)</td>
                    <td>Unitarity bounds, High-energy behavior</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/scattering_amplitude_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>Primordial GWs</strong>
                        <span class="test-score">✅ PASSED (r = 0.010)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_bicep_keck_primordial_gws() →</a>
                    </td>
                    <td>
                        <span class="test-badge experimental">Experimental</span>
                        <span class="test-badge prediction">Prediction</span>
                    </td>
                    <td>B-mode polarization power</td>
                    <td class="pass">93.8% (30/32)</td>
                    <td>BICEP/Keck constraints</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/primordial_gws_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
                <tr>
                    <td><strong>CMB Power Spectrum</strong>
                        <span class="test-score">✅ PASSED (χ²/dof = 53.08)</span>
                        <a href="../physics_agent/solver_tests/test_geodesic_validator_comparison.py" class="test-link">test_cmb_power_spectrum() →</a>
                    </td>
                    <td>
                        <span class="test-badge experimental">Experimental</span>
                    </td>
                    <td>Cosmological parameters</td>
                    <td class="partial">71.9% (23/32)</td>
                    <td>Planck satellite constraints</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/validations/cmb_power_spectrum_validator.py" class="code-link" target="_blank">Show code</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="visualization-container">
        <h2>Validator Performance by Category</h2>
        <canvas id="validator-performance"></canvas>
    </div>

    <div class="section-card">
        <h2>Top Performing Theories (Latest Run)</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Theory</th>
                    <th>Category</th>
                    <th>Combined Score</th>
                    <th>Analytical Tests</th>
                    <th>Solver Tests</th>
                    <th>Notable Features</th>
                    <th>Theory File</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td><strong>Schwarzschild</strong></td>
                    <td><span class="test-badge analytical">baseline</span></td>
                    <td class="pass">92.9%</td>
                    <td>7/7 ✓</td>
                    <td>6/7 (failed: g-2)</td>
                    <td>Reference standard, perfect analytical match</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theories/schwarzschild/schwarzschild.py" class="code-link" target="_blank">View theory</a></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><strong>Kerr (a=0.50)</strong></td>
                    <td><span class="test-badge numerical">classical</span></td>
                    <td class="pass">92.9%</td>
                    <td>7/7 ✓</td>
                    <td>6/7 (failed: g-2)</td>
                    <td>Frame dragging, ergosphere physics</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theories/kerr/kerr.py" class="code-link" target="_blank">View theory</a></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><strong>ASEC-D</strong></td>
                    <td><span class="test-badge quantum">quantum</span></td>
                    <td class="pass">92.9%</td>
                    <td>7/7 ✓</td>
                    <td>6/7 (failed: g-2)</td>
                    <td>Asymptotic safety, quantum corrections</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theories/asec_d/asec_d.py" class="code-link" target="_blank">View theory</a></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><strong>Regularized Core QG</strong></td>
                    <td><span class="test-badge quantum">quantum</span></td>
                    <td class="pass">92.9%</td>
                    <td>7/7 ✓</td>
                    <td>6/7 (failed: g-2)</td>
                    <td>Singularity resolution, ε=10^-4</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theories/regularized_core_qg/regularized_core_qg.py" class="code-link" target="_blank">View theory</a></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><strong>Entropic-Λσβ</strong></td>
                    <td><span class="test-badge experimental">emergent</span></td>
                    <td class="pass">92.9%</td>
                    <td>7/7 ✓</td>
                    <td>6/7 (failed: g-2)</td>
                    <td>Information-theoretic gravity</td>
                    <td><a href="https://github.com/PimDeWitte/albert/blob/main/physics_agent/theories/entropic_lambda/entropic_lambda.py" class="code-link" target="_blank">View theory</a></td>
                </tr>
            </tbody>
        </table>
        
        <p style="margin-top: 20px; color: #666;">
            <strong>Note:</strong> The g-2 muon anomaly test is included for comprehensive validation, though gravitational effects at particle physics scales are extremely small compared to electromagnetic contributions.
        </p>
    </div>

    <div class="note" style="background-color: #f3e5f5; border-left-color: #6a1b9a;">
        <h4 style="font-size: 18px; font-weight: 600; color: #6a1b9a; margin-bottom: 8px;">🚀 Performance Note: Validator Execution Times</h4>
        <p style="color: #424242;">
            Thanks to our trajectory caching system, validator performance is exceptional:
        </p>
        <ul style="color: #424242; margin: 10px 0;">
            <li><strong>First run:</strong> Computes trajectory (e.g., 4+ minutes for 1M steps) + validation time</li>
            <li><strong>Subsequent runs:</strong> Load from cache (8.6ms) + validation time only</li>
            <li><strong>Typical validator times:</strong> 0.06ms (light deflection) to 7ms (CMB spectrum)</li>
            <li><strong>Cache location:</strong> <code>physics_agent/cache/trajectories/</code></li>
        </ul>
        <p style="color: #424242;">
            This means a full validation suite that would take hours without caching completes in seconds, enabling rapid theory exploration and parameter optimization.
        </p>
    </div>

    <script>
        // Validator performance chart
        const validatorCanvas = document.getElementById('validator-performance');
        const validatorCtx = validatorCanvas.getContext('2d');
        validatorCanvas.width = validatorCanvas.offsetWidth;
        validatorCanvas.height = 400;

        const validators = [
            {name: 'Conservation\nLaws', pass: 32, total: 32, color: '#4caf50'},
            {name: 'Mercury\nPrecession', pass: 32, total: 32, color: '#4caf50'},
            {name: 'Light\nDeflection', pass: 32, total: 32, color: '#4caf50'},
            {name: 'Photon\nSphere', pass: 32, total: 32, color: '#4caf50'},
            {name: 'PPN\nParameters', pass: 32, total: 32, color: '#4caf50'},
            {name: 'COW\nInterferometry', pass: 32, total: 32, color: '#4caf50'},
            {name: 'GW\nWaveforms', pass: 32, total: 32, color: '#4caf50'},
            {name: 'Quantum\nGeodesics', pass: 31, total: 32, color: '#ff9800'},
            {name: 'Circular\nOrbits', pass: 30, total: 32, color: '#ff9800'},
            {name: 'g-2\nAnomaly', pass: 13, total: 32, color: '#f44336'},
            {name: 'Scattering\nAmplitude', pass: 22, total: 32, color: '#ff9800'},
            {name: 'CMB\nSpectrum', pass: 23, total: 32, color: '#ff9800'},
            {name: 'Primordial\nGWs', pass: 30, total: 32, color: '#ff9800'}
        ];

        function drawValidatorChart() {
            validatorCtx.clearRect(0, 0, validatorCanvas.width, validatorCanvas.height);
            
            const barWidth = 60;
            const spacing = (validatorCanvas.width - barWidth * validators.length) / (validators.length + 1);
            
            // Draw axes
            validatorCtx.strokeStyle = '#e0e0e0';
            validatorCtx.lineWidth = 2;
            validatorCtx.beginPath();
            validatorCtx.moveTo(50, 350);
            validatorCtx.lineTo(validatorCanvas.width - 20, 350);
            validatorCtx.stroke();
            
            // Draw bars
            validators.forEach((validator, index) => {
                const x = spacing + index * (barWidth + spacing);
                const passHeight = (validator.pass / validator.total) * 280;
                const failHeight = ((validator.total - validator.pass) / validator.total) * 280;
                
                // Pass portion
                validatorCtx.fillStyle = validator.color;
                validatorCtx.fillRect(x, 350 - passHeight, barWidth, passHeight);
                
                // Fail portion
                validatorCtx.fillStyle = validator.color + '44';
                validatorCtx.fillRect(x, 350 - passHeight - failHeight, barWidth, failHeight);
                
                // Percentage label
                const percentage = Math.round((validator.pass / validator.total) * 100);
                validatorCtx.fillStyle = '#333';
                validatorCtx.font = 'bold 14px Arial';
                validatorCtx.textAlign = 'center';
                validatorCtx.fillText(percentage + '%', x + barWidth/2, 350 - passHeight - failHeight - 10);
                
                // Pass/Total label
                validatorCtx.font = '12px Arial';
                validatorCtx.fillText(`${validator.pass}/${validator.total}`, x + barWidth/2, 340);
                
                // Validator name
                validatorCtx.save();
                validatorCtx.translate(x + barWidth/2, 370);
                const lines = validator.name.split('\n');
                lines.forEach((line, i) => {
                    validatorCtx.fillText(line, 0, i * 14);
                });
                validatorCtx.restore();
            });
            
            // Title
            validatorCtx.fillStyle = '#333';
            validatorCtx.font = 'bold 16px Arial';
            validatorCtx.textAlign = 'center';
            validatorCtx.fillText('Validator Pass Rates Across 32 Theories', validatorCanvas.width/2, 30);
        }

        drawValidatorChart();


    </script>
</body>
</html>